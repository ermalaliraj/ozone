<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">


<h:form id="newsletterForm"> 
	<p:messages id="newsletterMessage" showDetail="true"/> 	
	
	<p:panel id="newsletterListPanel" header="#{msg['customer.tab.newsletters.list']}:  #{customerDetailController.customerSelected.email}" >
		<h:panelGrid columns="2" cellpadding="5" width="300px" border="0">
			        
			<p:selectManyCheckbox id="nNewsletters" value="#{customerDetailController.newslettersList}"  required="true"
						rendered="#{customerDetailController.editMode}"  
          				layout="pageDirection" label="#{msg['city']}">  
          				<f:selectItems value="#{customerDetailController.cities}" var="city"
          				itemLabel="#{city.name}" itemValue="#{city.id}"/> 
          				<p:ajax event="blur" update="nNewslettersMsg"/> 
     		</p:selectManyCheckbox> 
      		<p:message id="nNewslettersMsg" for="nNewsletters" display="icon"/>


			<f:facet name="footer"> 
					<p:commandButton  value="#{msg['save']}"  
									title="#{msg['save']}" 
									update="tabViewId:newsletterForm" 
									actionListener="#{customerDetailController.saveNewsletters}"
									rendered="#{customerDetailController.editMode}"
									icon="ui-icon ui-icon-save"> 
					</p:commandButton> 
			</f:facet>  
				
		</h:panelGrid>	
	</p:panel>
	
</h:form>

</html>

