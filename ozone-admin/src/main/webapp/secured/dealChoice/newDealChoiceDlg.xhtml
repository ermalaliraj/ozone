<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	
<ui:composition >    	
	<h:form id="newDealChoiceForm">
	<p:dialog header="New Deal Choice" 
				   		widgetVar="newDealChoiceDialog" 
				   		resizable="false"
						modal="true" 
			           	width="500" 
			           	style="position:fixed; top:0%; left:0%;">
		<p:panel> 	
		<h:panelGrid id="newDealChoicePanel" columns="1" cellpadding="2" style="width:100%" border="0" styleClass="nowrapColumn"> 
			<p:fieldset legend="Te dhenat" style="width:400px;">
				<h:panelGrid columns="3" cellpadding="2" style="margin:0 auto;" border="0">  
					<h:outputLabel for="nDealChoiceTitle"  value="Titulli i zgjedhjes *"/>   
					<p:inputTextarea id="nDealChoiceTitle" style="width:250px;height:30px;"
							maxLength="100"	
							required="true"
							resisable="false"
							maxHeight="30"
							binding="#{dealWizController.nDealChoiceTitle}"> 
						<p:ajax event="blur" update="nDealChoiceTitleMsg" /> 
					</p:inputTextarea>
					<p:message id="nDealChoiceTitleMsg" for="nDealChoiceTitle" display="icon"/>

					<h:outputLabel for="nFullPrice" value="#{msg['deal.fullPrice']} *"/>   
	          		<p:inputText id="nFullPrice" size="7"
	          				required="true"
							label="#{msg['deal.fullPrice']}"
					        binding="#{dealWizController.nFullPrice}">
					    <f:convertNumber/>
						<p:ajax event="blur" update="nFullPriceMsg" /> 
					</p:inputText>
	          		<p:message id="nFullPriceMsg" for="nFullPrice" display="icon"/>
	          		
	          		<h:outputLabel for="nPrice" value="#{msg['deal.price']} *"/>   
	          		<p:inputText id="nPrice" size="7" 
	          				required="true"
							label="#{msg['deal.price']}"
					        binding="#{dealWizController.nPrice}">
					    <f:convertNumber/>
						<p:ajax event="blur" update="nPriceMsg" /> 
					</p:inputText> 
	          		<p:message id="nPriceMsg" for="nPrice" display="icon"/>

	          		<h:outputLabel for="nCommission" value="Komision per OZone *"/>   
	          		<h:panelGroup>
		          		<p:inputText id="nCommission" size="7" 
		          				required="true"
								label="Komision per OZone"
						        binding="#{dealWizController.nCommission}">
						    <f:convertNumber type="percent" pattern="#0.0"/>
							<p:ajax event="blur" update="nCommissionMsg" /> 
						</p:inputText>
						(example: 27.5)
						% 
					</h:panelGroup>
	          		<p:message id="nCommissionMsg" for="nCommission" display="icon"/>
	          		
	          		<h:outputLabel for="nMinCustomers" value="#{msg['deal.minCustomers']} *"/>   
	          		<p:inputText id="nMinCustomers" size="4"
	          				required="true"
							label="#{msg['deal.minCustomers']}"
					        binding="#{dealWizController.nMinCustomers}">
					    <f:convertNumber/>
						<p:ajax event="blur" update="nMinCustomersMsg" /> 
					</p:inputText>
	          		<p:message id="nMinCustomersMsg" for="nMinCustomers" display="icon"/>

	          		<h:outputLabel for="nMaxCustomers" value="#{msg['deal.maxCustomers']} *"/>   
	          		<p:inputText id="nMaxCustomers" size="4" 
	          				required="true"
							label="#{msg['deal.maxCustomers']}"
					        binding="#{dealWizController.nMaxCustomers}">
					    <f:convertNumber/>
						<p:ajax event="blur" update="nMaxCustomersMsg" /> 
					</p:inputText>
	          		<p:message id="nMaxCustomersMsg" for="nMaxCustomers" display="icon" />
				</h:panelGrid>
			</p:fieldset>
		</h:panelGrid>
				
		<f:facet name="footer">
			<h:panelGroup>
				<center>	
				<p:commandButton value="Shto Zgjedhje"  
								update="newDealChoicePanel,dealForm:dealChoicesTable,dealForm:dataMessage2" 
								actionListener="#{dealWizController.addDealChoice}"
								oncomplete="handleNewDealChoiceCBR(xhr, status, args)"
								icon="ui-icon ui-icon-newwin"> 					
				</p:commandButton>   
				<p:commandButton value="#{msg['buttonClose']}" onclick="newDealChoiceDialog.hide()" type="button" icon="ui-icon ui-icon-close"/>  
				</center>
			</h:panelGroup>
		</f:facet>
		
		</p:panel>
	</p:dialog>
		
	<script type="text/javascript">  
	    function handleNewDealChoiceCBR(xhr, status, args) { 
	        if(!args.validationFailed) {  
	        	newDealChoiceDialog.hide();
	        }
	    }  
	</script> 
	
	</h:form>
</ui:composition>
</html>













